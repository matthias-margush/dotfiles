;; -*- mode: emacs-lisp; lexical-binding: t; -*-

;; (use-package esup
;;   :straight (esup :type git :host github :repo "jschaf/esup"))

(unless (display-graphic-p)
  (menu-bar-mode -1))

(setq-default indent-tabs-mode nil)

(require 'dashboard-config)
(require 'evil-config)
(require 'org-config)
(require 'selections-config)
(require 'completions-config)
(require 'tabbar-config)
(require 'ui-config)
(require 'shell-config)
(require 'git-config)
(require 'projects-config)
(require 'neotree-config)
(require 'lisp-config)
(require 'languages-config)
(require 'clojure-config)
(require 'help-config)

(use-package origami
  :after evil
  :general
  (:states '(normal) "zo"
           (lambda ()
             (interactive)
             (save-excursion
               (goto-char (point-at-bol))
               (goto-char (point-at-eol))
               (origami-open-node (current-buffer) (point)))))
  (:states '(normal) "zc"
           (lambda ()
             (interactive)
             (save-excursion
               (origami-forward-fold)
               (goto-char (point-at-bol))
               (goto-char (point-at-eol))
               (origami-close-node (current-buffer) (point)))))
  (:states '(normal) "za"
           (lambda ()
             (interactive)
             (origami-forward-toggle-node (current-buffer) (point))))
  ;; (:states '(normal) "<tab>"
  ;;          (lambda ()
  ;;            (interactive)
  ;;            (save-excursion
  ;;              (origami-forward-toggle-node (current-buffer) (point)))))

  ;; (:states '(normal) "S-<tab>" #'origami-recursively-toggle-node)

  (:states '(normal) "zA" #'origami-recursively-toggle-node)
  (:states '(normal) "zO" #'origami-recursively-toggle-node)
  (:states '(normal) "zC" #'origami-recursively-toggle-node)
  (:states '(normal) "zM" #'origami-toggle-all-nodes)
  (:states '(normal) "zR" #'origami-toggle-all-nodes)

  :config
  (global-origami-mode))

(use-package envrc
  :config (envrc-global-mode))

(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(inhibit-startup-screen t)
 '(org-hide-emphasis-markers t)
 '(org-hide-leading-stars t))
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )
(put 'narrow-to-region 'disabled nil)
(put 'scroll-left 'disabled nil)
